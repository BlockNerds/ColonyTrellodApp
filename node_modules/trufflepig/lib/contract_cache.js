/*       */

                        
              
                       
                    
  

              
                                      
                                
  

const TrufflePigCache = require('./cache');

class ContractCache extends TrufflePigCache {
  static contractMatchesQuery(
    contract                 ,
    query       ,
  )          {
    // TODO later: if the need arises, support limiting by fields other than name
    return query.name === contract.contractName;
  }
  contractNames() {
    return {
      contractNames: [...this._cache.values()].map(
        contract => contract.contractName,
      ),
    };
  }
  findContracts(query       ) {
    return [...this._cache.values()].filter(contract =>
      this.constructor.contractMatchesQuery(contract, query),
    );
  }
  findContract(query       ) {
    return [...this._cache.values()].find(contract =>
      this.constructor.contractMatchesQuery(contract, query),
    );
  }
}

module.exports = ContractCache;
